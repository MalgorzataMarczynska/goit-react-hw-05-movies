"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[678],{131:function(e,t,n){n.d(t,{e:function(){return c}});n(791);var r=n(87),i=n(689),s="MovieList_list__yjDCC",a="MovieList_listItem__vOVoz",o=n(184),c=function(e){var t=e.moviesArr,n=(0,i.TH)(),c=t.map((function(e){return e.release_date})).join("").slice(0,4);return(0,o.jsx)("ul",{className:s,children:t.map((function(e){return(0,o.jsx)("li",{className:a,children:(0,o.jsx)(r.rU,{to:"/movies/".concat(e.id),state:{from:n},children:(0,o.jsxs)("p",{children:[e.title," (",c,")"]})})},e.id)}))})}},678:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(861),i=n(439),s=n(757),a=n.n(s),o=n(791),c=n(691),u="Movies_section__bjPDA",l="Movies_input__KrUqs",v="Movies_button__GcIka",f="Movies_invitation__laWGw",h=n(131),p="bf9c4d58b7779ca7f547438ec065a7d2",d="https://api.themoviedb.org/3/search/movie?api_key=",m="https://api.themoviedb.org/3/genre/movie/list?api_key=",_=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,s,o,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,fetch("".concat(d).concat(p,"&query=").concat(t,"&page=").concat(n));case 3:return r=e.sent,e.next=6,fetch("".concat(m).concat(p));case 6:return i=e.sent,e.next=9,r.json();case 9:return s=e.sent,e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",{movies:s,genreIds:o});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=n(87),g=n(184),j=function(){var e,t=(0,x.lr)(),n=(0,i.Z)(t,2),s=n[0],p=n[1],d=null!==(e=s.get("query"))&&void 0!==e?e:"",m=(0,o.useState)([]),j=(0,i.Z)(m,2),y=j[0],b=j[1],k=(0,o.useState)(!1),w=(0,i.Z)(k,2),Z=w[0],M=w[1],N=(0,o.useState)(null),S=(0,i.Z)(N,2),C=S[0],q=S[1],L=(0,o.useRef)();return(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:1,M(!0),e.prev=2,e.next=5,_(d,1);case 5:n=e.sent,r=n.movies.results,b(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),q(e.t0);case 13:return e.prev=13,M(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();e()}),[d]),(0,g.jsxs)("div",{className:u,children:[(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=L.current.value;d!==t&&b([])},children:[(0,g.jsx)("input",{className:l,type:"text",ref:L,placeholder:"What do you looking for?",onChange:function(e){return t=e.target.value,void p(""!==t?{query:t}:{});var t}}),(0,g.jsx)("button",{className:v,type:"submit",children:"Search"})]}),C&&(0,g.jsxs)("p",{children:["Sorry, something went really wrong: ",C.message]}),Z&&(0,g.jsx)(c.Rf,{color:"#3f51b5",width:"100",visible:!0,ariaLabel:"falling-lines-loading"}),(null===y||void 0===y?void 0:y.length)>0?(0,g.jsx)(h.e,{moviesArr:y}):(0,g.jsx)("p",{className:f,children:"Hey there! There are so many films to discover! Let's seek something interesting!"})]})}},861:function(e,t,n){function r(e,t,n,r,i,s,a){try{var o=e[s](a),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){var a=e.apply(t,n);function o(e){r(a,i,s,o,c,"next",e)}function c(e){r(a,i,s,o,c,"throw",e)}o(void 0)}))}}n.d(t,{Z:function(){return i}})}}]);
//# sourceMappingURL=678.d5b7395f.chunk.js.map