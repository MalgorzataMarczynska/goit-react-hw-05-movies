"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[678],{131:function(e,t,n){n.d(t,{e:function(){return u}});n(791);var r=n(87),s=n(689),a="MovieList_list__yjDCC",i="MovieList_listItem__vOVoz",o="MovieList_poster_thumb__R7vPn",c=n(184),u=function(e){var t=e.moviesArr,n=(0,s.TH)();return(0,c.jsx)("ul",{className:a,children:t.map((function(e){return(0,c.jsx)("li",{className:i,children:(0,c.jsxs)(r.rU,{to:"/movies/".concat(e.id),state:{from:n},children:[(0,c.jsxs)("p",{children:[e.title," (",e.release_date.slice(0,4),")"]}),null!==e.poster_path?(0,c.jsx)("img",{className:o,src:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:e.title}):(0,c.jsx)("img",{className:o,src:"https://image.tmdb.org/t/p/w500/wmyYQbahIy4SF2Qo6qNBBkJFg7z.jpg",alt:e.title})]})},e.id)}))})}},678:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(861),s=n(439),a=n(757),i=n.n(a),o=n(791),c=n(691),u="Movies_section__bjPDA",l="Movies_searchForm__J4-xw",v="Movies_input__KrUqs",h="Movies_button__GcIka",f="Movies_invitation__laWGw",p=n(131),m="bf9c4d58b7779ca7f547438ec065a7d2",d="https://api.themoviedb.org/3/search/movie?api_key=",_="https://api.themoviedb.org/3/genre/movie/list?api_key=",g=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,s,a,o,c=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,fetch("".concat(d).concat(m,"&query=").concat(t,"&page=").concat(n));case 3:return r=e.sent,e.next=6,fetch("".concat(_).concat(m));case 6:return s=e.sent,e.next=9,r.json();case 9:return a=e.sent,e.next=12,s.json();case 12:return o=e.sent,e.abrupt("return",{movies:a,genreIds:o});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=n(87),b=n(184),j=function(){var e,t=(0,x.lr)(),n=(0,s.Z)(t,2),a=n[0],m=n[1],d=null!==(e=a.get("query"))&&void 0!==e?e:"",_=(0,o.useState)([]),j=(0,s.Z)(_,2),y=j[0],w=j[1],k=(0,o.useState)(!1),N=(0,s.Z)(k,2),M=N[0],S=N[1],Z=(0,o.useState)(null),q=(0,s.Z)(Z,2),C=q[0],L=q[1],I=(0,o.useRef)();return(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:1,S(!0),e.prev=2,e.next=5,g(d,1);case 5:n=e.sent,r=n.movies.results,w(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),L(e.t0);case 13:return e.prev=13,S(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();e()}),[d]),(0,b.jsxs)("div",{className:u,children:[(0,b.jsxs)("form",{className:l,onSubmit:function(e){e.preventDefault();var t=I.current.value;d!==t&&w([])},children:[(0,b.jsx)("input",{className:v,type:"text",ref:I,placeholder:"What do you looking for?",onChange:function(e){return t=e.target.value,void m(""!==t?{query:t}:{});var t}}),(0,b.jsx)("button",{className:h,type:"submit",children:"Search"})]}),C&&(0,b.jsxs)("p",{children:["Sorry, something went really wrong: ",C.message]}),M&&(0,b.jsx)(c.Rf,{color:"#3f51b5",width:"100",visible:!0,ariaLabel:"falling-lines-loading"}),(null===y||void 0===y?void 0:y.length)>0?(0,b.jsx)(p.e,{moviesArr:y}):(0,b.jsx)("p",{className:f,children:"Hey there! There are so many films to discover! Let's seek something interesting!"})]})}},861:function(e,t,n){function r(e,t,n,r,s,a,i){try{var o=e[a](i),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(r,s)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function o(e){r(i,s,a,o,c,"next",e)}function c(e){r(i,s,a,o,c,"throw",e)}o(void 0)}))}}n.d(t,{Z:function(){return s}})}}]);
//# sourceMappingURL=678.b8a492fe.chunk.js.map