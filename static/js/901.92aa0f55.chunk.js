"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[901],{901:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(861),s=n(439),i=n(757),a=n.n(i),c=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.themoviedb.org/3/","movie/").concat(t,"?api_key=").concat("bf9c4d58b7779ca7f547438ec065a7d2"));case 2:return e.next=4,e.sent.json();case 4:return n=e.sent,e.abrupt("return",{movie:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=n(791),l=n(691),u=n(87),h=n(689),d="MovieDetails_section__CCh0q",v="MovieDetails_goBackSec__OPRMd",f="MovieDetails_goBack__C8OKE",m="MovieDetails_mainDescription__r0vEm",p="MovieDetails_poster__yO7gD",_="MovieDetails_title__cUGs9",x="MovieDetails_additional__+f3rh",j="MovieDetails_genres__Pnmgt",g="MovieDetails_linkItem__QXhuP",b=n(184),w=function(){var e=(0,o.useState)({}),t=(0,s.Z)(e,2),n=t[0],i=t[1],w=(0,o.useState)(!1),k=(0,s.Z)(w,2),N=k[0],y=k[1],D=(0,o.useState)(null),M=(0,s.Z)(D,2),S=M[0],C=M[1],Z=(0,h.UO)().movieId,O=(0,h.TH)(),P=(0,h.s0)();(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,n=Number(Z),e.next=5,c(n);case 5:r=e.sent,s=r.movie,i(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),C(e.t0);case 13:return e.prev=13,y(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();e()}),[Z]);var U=n.release_date,B="".concat(U).substring(0,4),R=n.genres,E=null===R||void 0===R?void 0:R.map((function(e){return e.name})).join(" "),G=Math.round(10*n.vote_average);return(0,b.jsxs)("section",{className:d,children:[(0,b.jsx)("div",{className:v,children:(0,b.jsx)("button",{type:"button",className:f,onClick:function(){return P(-1)},children:"Go back"})}),S&&(0,b.jsxs)("p",{children:["Sorry, something went really wrong: ",S.message]}),N&&(0,b.jsx)(l.Rf,{color:"#3f51b5",width:"100",visible:!0,ariaLabel:"falling-lines-loading"}),(0,b.jsxs)("div",{className:m,children:[null!==n.poster_path?(0,b.jsx)("img",{className:p,src:"https://image.tmdb.org/t/p/w500/".concat(n.poster_path),alt:n.title}):(0,b.jsx)("img",{className:p,src:"https://image.tmdb.org/t/p/w500/wmyYQbahIy4SF2Qo6qNBBkJFg7z.jpg",alt:n.title}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:_,children:[n.title," (",B,")"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("b",{children:"User Score:"})," ",G," %"]}),(0,b.jsx)("h3",{children:"Overview"}),(0,b.jsx)("p",{children:n.overview}),(0,b.jsx)("h4",{children:"Genres"}),(null===R||void 0===R?void 0:R.length)>0?(0,b.jsxs)("p",{className:j,children:[E," "]}):(0,b.jsx)("p",{children:"We have no information about it"})]})]}),(0,b.jsxs)("div",{className:x,children:[(0,b.jsx)("h5",{children:"Additional information"}),(0,b.jsxs)("ul",{children:[(0,b.jsx)("li",{children:(0,b.jsx)(u.rU,{to:"cast",className:g,state:{from:O},children:"Cast"})}),(0,b.jsx)("li",{children:(0,b.jsx)(u.rU,{to:"reviews",className:g,state:{from:O},children:"Rewiews"})})]}),(0,b.jsx)(o.Suspense,{fallback:(0,b.jsx)(l.Rf,{color:"#3f51b5",width:"100",visible:!0,ariaLabel:"falling-lines-loading"}),children:(0,b.jsx)(h.j3,{})})]})]})}},861:function(e,t,n){function r(e,t,n,r,s,i,a){try{var c=e[i](a),o=c.value}catch(l){return void n(l)}c.done?t(o):Promise.resolve(o).then(r,s)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(s,i){var a=e.apply(t,n);function c(e){r(a,s,i,c,o,"next",e)}function o(e){r(a,s,i,c,o,"throw",e)}c(void 0)}))}}n.d(t,{Z:function(){return s}})}}]);
//# sourceMappingURL=901.92aa0f55.chunk.js.map