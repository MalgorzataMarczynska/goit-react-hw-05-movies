"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[678],{131:function(e,t,n){n.d(t,{e:function(){return c}});n(791);var r=n(87),s=n(689),i="MovieList_list__yjDCC",o="MovieList_listItem__vOVoz",a=n(184),c=function(e){var t=e.moviesArr,n=(0,s.TH)(),c=t.map((function(e){return e.release_date})).join("").slice(0,4);return(0,a.jsx)("ul",{className:i,children:t.map((function(e){return(0,a.jsx)("li",{className:o,children:(0,a.jsx)(r.rU,{to:"/movies/".concat(e.id),state:{from:n},children:(0,a.jsxs)("p",{children:[e.title," (",c,")"]})})},e.id)}))})}},678:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(861),s=n(439),i=n(757),o=n.n(i),a=n(791),c=n(691),u="Movies_section__bjPDA",l="Movies_input__KrUqs",v="Movies_button__GcIka",f="Movies_invitation__laWGw",h=n(131),p="bf9c4d58b7779ca7f547438ec065a7d2",d="https://api.themoviedb.org/3/search/movie?api_key=",m="https://api.themoviedb.org/3/genre/movie/list?api_key=",_=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,s,i,a,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,fetch("".concat(d).concat(p,"&query=").concat(t,"&page=").concat(n));case 3:return r=e.sent,e.next=6,fetch("".concat(m).concat(p));case 6:return s=e.sent,e.next=9,r.json();case 9:return i=e.sent,e.next=12,s.json();case 12:return a=e.sent,e.abrupt("return",{movies:i,genreIds:a});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=n(87),g=n(184),j=function(){var e,t=(0,x.lr)(),n=(0,s.Z)(t,2),i=n[0],p=n[1],d=null!==(e=i.get("query"))&&void 0!==e?e:"",m=(0,a.useState)([]),j=(0,s.Z)(m,2),y=j[0],b=j[1],k=(0,a.useState)(!1),w=(0,s.Z)(k,2),Z=w[0],M=w[1],N=(0,a.useState)(null),S=(0,s.Z)(N,2),C=S[0],q=S[1],L=(0,a.useRef)();return(0,a.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:1,M(!0),e.prev=2,e.next=5,_(d,1);case 5:n=e.sent,r=n.movies.results,console.log("movies",r),b(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),q(e.t0);case 14:return e.prev=14,M(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(t){return e.apply(this,arguments)}}();e()}),[d]),(0,g.jsxs)("div",{className:u,children:[(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=L.current.value;d!==t&&b([])},children:[(0,g.jsx)("input",{className:l,type:"text",ref:L,placeholder:"What do you looking for?",onChange:function(e){return t=e.target.value,void p(""!==t?{query:t}:{});var t}}),(0,g.jsx)("button",{className:v,type:"submit",children:"Search"})]}),C&&(0,g.jsxs)("p",{children:["Sorry, something went really wrong: ",C.message]}),Z&&(0,g.jsx)(c.Rf,{color:"#3f51b5",width:"100",visible:!0,ariaLabel:"falling-lines-loading"}),(null===y||void 0===y?void 0:y.length)>0?(0,g.jsx)(h.e,{moviesArr:y}):(0,g.jsx)("p",{className:f,children:"Hey there! There are so many films to discover! Let's seek something interesting!"})]})}},861:function(e,t,n){function r(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,s)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(s,i){var o=e.apply(t,n);function a(e){r(o,s,i,a,c,"next",e)}function c(e){r(o,s,i,a,c,"throw",e)}a(void 0)}))}}n.d(t,{Z:function(){return s}})}}]);
//# sourceMappingURL=678.a9e9fe27.chunk.js.map