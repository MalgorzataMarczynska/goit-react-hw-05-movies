{"version":3,"file":"static/js/901.949bd412.chunk.js","mappings":"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","sources":["api/FetchMovieById.js","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["export const API_KEY = `bf9c4d58b7779ca7f547438ec065a7d2`;\nexport const API_URL = `https://api.themoviedb.org/3/`;\n\nexport const fetchMovieById = async id => {\n  const movie = await (\n    await fetch(`${API_URL}movie/${id}?api_key=${API_KEY}`)\n  ).json();\n  return { movie };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"MovieDetails_section__CCh0q\",\"goBackSec\":\"MovieDetails_goBackSec__OPRMd\",\"goBack\":\"MovieDetails_goBack__C8OKE\",\"button\":\"MovieDetails_button__uXZxd\",\"mainDescription\":\"MovieDetails_mainDescription__r0vEm\",\"poster\":\"MovieDetails_poster__yO7gD\",\"title\":\"MovieDetails_title__cUGs9\",\"additional\":\"MovieDetails_additional__+f3rh\",\"genres\":\"MovieDetails_genres__Pnmgt\",\"linkItem\":\"MovieDetails_linkItem__QXhuP\"};","import { fetchMovieById } from 'api/FetchMovieById';\nimport React, { useState, useEffect, Suspense } from 'react';\nimport { FallingLines } from 'react-loader-spinner';\nimport { useParams, useLocation, Link, Outlet } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movieDetail, setMovieDetail] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/movies';\n\n  useEffect(() => {\n    const handleRequest = async id => {\n      setIsLoading(true);\n      try {\n        const id = Number(movieId);\n        const data = await fetchMovieById(id);\n        const movie = data.movie;\n        setMovieDetail(movie);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    handleRequest();\n  }, [movieId]);\n\n  const releaseDate = movieDetail.release_date;\n  const releaseYear = `${releaseDate}`.substring(0, 4);\n\n  const genres = movieDetail.genres;\n  const genreNames = genres?.map(genre => genre.name).join(' ');\n  const userScore = Math.round(movieDetail.vote_average * 10);\n  return (\n    <section className={css.section}>\n      <div className={css.goBackSec}>\n        <Link to={backLinkHref} className={css.goBack}>\n          Go back\n        </Link>\n      </div>\n      {error && <p>Sorry, something went really wrong: {error.message}</p>}\n      {isLoading && (\n        <FallingLines\n          color=\"#3f51b5\"\n          width=\"100\"\n          visible={true}\n          ariaLabel=\"falling-lines-loading\"\n        />\n      )}\n      <div className={css.mainDescription}>\n        <img\n          className={css.poster}\n          src={`https://image.tmdb.org/t/p/w500${movieDetail.poster_path}`}\n          alt={movieDetail.title}\n        />\n        <div>\n          <h2 className={css.title}>\n            {movieDetail.title} ({releaseYear})\n          </h2>\n          <p>\n            <b>User Score:</b> {userScore} %\n          </p>\n          <h3>Overview</h3>\n          <p>{movieDetail.overview}</p>\n          <h4>Genres</h4>\n          {genres?.length > 0 ? (\n            <p className={css.genres}>{genreNames} </p>\n          ) : (\n            <p>We have no information about it</p>\n          )}\n        </div>\n      </div>\n      <div className={css.additional}>\n        <h5>Additional information</h5>\n        <ul>\n          <li>\n            <Link to=\"cast\" className={css.linkItem}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" className={css.linkItem}>\n              Rewiews\n            </Link>\n          </li>\n        </ul>\n        <Suspense\n          fallback={\n            <FallingLines\n              color=\"#3f51b5\"\n              width=\"100\"\n              visible={true}\n              ariaLabel=\"falling-lines-loading\"\n            />\n          }\n        >\n          <Outlet />\n        </Suspense>\n      </div>\n    </section>\n  );\n};\nexport default MovieDetails;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["fetchMovieById","id","fetch","json","movie","useState","movieDetail","setMovieDetail","isLoading","setIsLoading","error","setError","movieId","useParams","backLinkHref","useLocation","state","from","useEffect","handleRequest","Number","data","releaseDate","release_date","releaseYear","substring","genres","genreNames","map","genre","name","join","userScore","Math","round","vote_average","className","css","to","message","color","width","visible","ariaLabel","src","poster_path","alt","title","overview","length","Suspense","fallback","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}