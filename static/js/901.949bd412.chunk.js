"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[901],{901:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var i=t(861),r=t(439),s=t(757),a=t.n(s),c=function(){var e=(0,i.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.themoviedb.org/3/","movie/").concat(n,"?api_key=").concat("bf9c4d58b7779ca7f547438ec065a7d2"));case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,e.abrupt("return",{movie:t});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o=t(791),l=t(691),u=t(87),d=t(689),v="MovieDetails_section__CCh0q",h="MovieDetails_goBackSec__OPRMd",f="MovieDetails_goBack__C8OKE",m="MovieDetails_mainDescription__r0vEm",p="MovieDetails_poster__yO7gD",_="MovieDetails_title__cUGs9",x="MovieDetails_additional__+f3rh",j="MovieDetails_genres__Pnmgt",b="MovieDetails_linkItem__QXhuP",g=t(184),w=function(){var e,n,t=(0,o.useState)({}),s=(0,r.Z)(t,2),w=s[0],k=s[1],D=(0,o.useState)(!1),M=(0,r.Z)(D,2),N=M[0],y=M[1],S=(0,o.useState)(null),C=(0,r.Z)(S,2),U=C[0],Z=C[1],O=(0,d.UO)().movieId,P=null!==(e=null===(n=(0,d.TH)().state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies";(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)(a().mark((function e(n){var t,i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,t=Number(O),e.next=5,c(t);case 5:i=e.sent,r=i.movie,k(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),Z(e.t0);case 13:return e.prev=13,y(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(n){return e.apply(this,arguments)}}();e()}),[O]);var R=w.release_date,E="".concat(R).substring(0,4),G=w.genres,B=null===G||void 0===G?void 0:G.map((function(e){return e.name})).join(" "),I=Math.round(10*w.vote_average);return(0,g.jsxs)("section",{className:v,children:[(0,g.jsx)("div",{className:h,children:(0,g.jsx)(u.rU,{to:P,className:f,children:"Go back"})}),U&&(0,g.jsxs)("p",{children:["Sorry, something went really wrong: ",U.message]}),N&&(0,g.jsx)(l.Rf,{color:"#3f51b5",width:"100",visible:!0,ariaLabel:"falling-lines-loading"}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("img",{className:p,src:"https://image.tmdb.org/t/p/w500".concat(w.poster_path),alt:w.title}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("h2",{className:_,children:[w.title," (",E,")"]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"User Score:"})," ",I," %"]}),(0,g.jsx)("h3",{children:"Overview"}),(0,g.jsx)("p",{children:w.overview}),(0,g.jsx)("h4",{children:"Genres"}),(null===G||void 0===G?void 0:G.length)>0?(0,g.jsxs)("p",{className:j,children:[B," "]}):(0,g.jsx)("p",{children:"We have no information about it"})]})]}),(0,g.jsxs)("div",{className:x,children:[(0,g.jsx)("h5",{children:"Additional information"}),(0,g.jsxs)("ul",{children:[(0,g.jsx)("li",{children:(0,g.jsx)(u.rU,{to:"cast",className:b,children:"Cast"})}),(0,g.jsx)("li",{children:(0,g.jsx)(u.rU,{to:"reviews",className:b,children:"Rewiews"})})]}),(0,g.jsx)(o.Suspense,{fallback:(0,g.jsx)(l.Rf,{color:"#3f51b5",width:"100",visible:!0,ariaLabel:"falling-lines-loading"}),children:(0,g.jsx)(d.j3,{})})]})]})}},861:function(e,n,t){function i(e,n,t,i,r,s,a){try{var c=e[s](a),o=c.value}catch(l){return void t(l)}c.done?n(o):Promise.resolve(o).then(i,r)}function r(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function c(e){i(a,r,s,c,o,"next",e)}function o(e){i(a,r,s,c,o,"throw",e)}c(void 0)}))}}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=901.949bd412.chunk.js.map